<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Primal4k">
    <link rel="icon" href="/lovable-uploads/3896f961-2f23-4243-86dc-f164bdc87c87.png" type="image/png">
    <link rel="apple-touch-icon" href="/lovable-uploads/3896f961-2f23-4243-86dc-f164bdc87c87.png">
    <link rel="manifest" href="/app-manifest.json">
    <meta name="theme-color" content="#FF0000">
    <title>Install Primal4k App</title>
    
    <style>
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        background: linear-gradient(135deg, #000000, #333333);
        font-family: Arial, sans-serif;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
      
      .container {
        text-align: center;
        padding: 40px 20px;
        max-width: 500px;
      }
      
      .logo {
        width: 120px;
        height: 120px;
        margin: 0 auto 30px;
        border-radius: 20px;
      }
      
      h1 {
        color: #ff0000;
        font-size: 2.5em;
        margin-bottom: 20px;
      }
      
      .install-btn {
        background: linear-gradient(45deg, #ff0000, #cc0000);
        color: white;
        padding: 15px 30px;
        border: none;
        border-radius: 10px;
        font-size: 18px;
        cursor: pointer;
        margin: 20px 10px;
        box-shadow: 0 4px 15px rgba(255,0,0,0.4);
        transition: all 0.3s ease;
      }
      
      .install-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(255,0,0,0.6);
      }
      
      .manual-steps {
        background: rgba(255,255,255,0.1);
        padding: 20px;
        border-radius: 10px;
        margin: 30px 0;
        text-align: left;
      }
      
      .manual-steps h3 {
        color: #ff0000;
        margin-top: 0;
      }
      
      .manual-steps ol {
        padding-left: 20px;
      }
      
      .manual-steps li {
        margin: 10px 0;
        line-height: 1.5;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <img 
        src="/lovable-uploads/3896f961-2f23-4243-86dc-f164bdc87c87.png" 
        alt="Primal4k Logo" 
        class="logo"
      >
      
      <h1>üì± Install Primal4k App</h1>
      <p>Get the full app experience with offline access, notifications, and home screen access!</p>
      
      <button id="install-btn" class="install-btn" style="display: none;">
        üöÄ Install App Now
      </button>
      
      <div class="manual-steps">
        <h3>üìã Installation Instructions</h3>
        
        <p><strong>ü§ñ Android (Chrome/Edge):</strong></p>
        <ol>
          <li>Tap the menu button (‚ãÆ) in your browser</li>
          <li>Look for "Add to Home screen" or "Install app"</li>
          <li>Tap "Add" or "Install" to complete</li>
          <li>Find the Primal4k app icon on your home screen!</li>
        </ol>
        
        <p><strong>üçé iPhone/iPad (Safari):</strong></p>
        <ol>
          <li>Tap the Share button (‚¨ÜÔ∏è) at the bottom</li>
          <li>Scroll down and tap "Add to Home Screen"</li>
          <li>Tap "Add" in the top right</li>
          <li>The app will appear on your home screen!</li>
        </ol>
        
        <p><strong>üñ•Ô∏è Desktop (Chrome/Edge):</strong></p>
        <ol>
          <li>Look for the install icon (‚äû) in the address bar</li>
          <li>Click it and select "Install"</li>
          <li>Or use browser menu ‚Üí "Install Primal4k..."</li>
        </ol>
        
        <p style="color: #ff6666; margin-top: 20px; font-style: italic;">
          üí° Can't find the install option? Make sure you're using Chrome, Safari, or Edge browser!
        </p>
      </div>
      
      <button onclick="window.location.href='/'" class="install-btn">
        üè† Back to Main Site
      </button>
    </div>

    <script>
      console.log('üîß PWA Installation Page Loaded Successfully!');
      
      // Register service worker
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('/app-sw.js')
          .then(registration => {
            console.log('‚úÖ Service Worker registered successfully:', registration);
          })
          .catch(error => {
            console.error('‚ùå Service Worker registration failed:', error);
          });
      }

      // Handle PWA installation
      let deferredPrompt;
      const installBtn = document.getElementById('install-btn');

      window.addEventListener('beforeinstallprompt', (e) => {
        console.log('üéØ PWA install prompt available!');
        e.preventDefault();
        deferredPrompt = e;
        installBtn.style.display = 'inline-block';
      });

      installBtn.addEventListener('click', async () => {
        console.log('üîò Install button clicked');
        if (deferredPrompt) {
          deferredPrompt.prompt();
          const { outcome } = await deferredPrompt.userChoice;
          console.log(`User choice: ${outcome}`);
          if (outcome === 'accepted') {
            console.log('üéâ PWA installation accepted!');
          }
          deferredPrompt = null;
          installBtn.style.display = 'none';
        }
      });

      window.addEventListener('appinstalled', (e) => {
        console.log('üéâ PWA successfully installed!');
        alert('üéâ Primal4k app installed! Check your home screen.');
        installBtn.style.display = 'none';
      });
    </script>
  </body>
</html>